language: objective-c
osx_image: xcode7.3
xcode_project: 'xcodeProject/ObjectiveC.xcodeproj'
xcode_scheme: 'xobjectivecTest'
before_install:
  - brew cask uninstall oclint
  - brew tap oclint/formulae
  - brew install oclint
script:
  - xcodebuild -project 'xcodeProject/ObjectiveC.xcodeproj' -scheme 'OCLint' -sdk macosx10.11 | tee xcodebuild.log
  - oclint-xcodebuild
  - oclint-json-compilation-database -- -max-priority-1=100000 -max-priority-2=100000 -max-priority-3=100000
  - xcodebuild test -project 'xcodeProject/ObjectiveC.xcodeproj' -scheme 'xobjectivecTest' -sdk macosx10.11
  - bin/fetch-configlet
  - bin/configlet .